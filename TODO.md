# TODO
- [ ] Real Lisp
    - [x] Parse sexprs into AST tables 
    - [ ] Persist AST tables as sexprs ryanlaws/pigeons#1
- [ ] Load configuration from file
    - [x] Load .plisp as listener implementation
    - [x] Assign .plisp via config
    - [ ] Use named ports (e.g. Faderfox/Launchpad) when available ryanlaws/pigeons#2
    - [ ] Use virtual MIDI ports instead of real IDs ryanlaws/pigeons#3
    - [ ] Make configuration more robust, play nice w/ Git ryanlaws/pigeons#6
- [ ] Convenience functions
    - [ ] Channel-changing ryanlaws/pigeons#4
        - [ ] Do things across multiple channels, like OT tracks
    - [ ] Message-mapping _(what does this mean?)_
    - [x] Note/CC matching
    - [ ] Inclusive ranges (thinking ".." for the fn name), e.g. `(.. 1 4)` ->``(` 1 2 3 4)`` ryanlaws/pigeons#5
- [ ] Remove env references from core as much as possible; used in:
    - [ ] print-expr
    - [ ] def
    - [ ] def@
    - [ ] expr-to-sexpr
- [ ] Collate TODOs from code
- [ ] Refactor everything to use plisp as much as possible
- [ ] Refactor for library usage
    - [ ] Do not reference other modules via globals
    - [ ] Messages and plisp MAY be useful separately (?)

# DONE
- [x] Implement (basic) MIDI output handlers
- [x] Flatten message structure (nesting is yucky)
- [x] Implement Menus
    - [x] Menu state (button press)
    - [x] Change background (log) display - colors/mask (draw_checkers)
    - [x] Draw menu border
- [x] Implement MIDI inputs -> messages
- [x] Norns screen log (text-only for now)
    - [x] Log incoming messages
    - [x] Log handlers - NAH, not now, I don't think this will work
    - [x] BONUS - cute "index" animation
    - [x] Show log messages with actual info
- [x] Create environment/context for each event
- [x] Split into modules
    - [x] lib (core)
        - [x] Messages
        - [x] Lisp
        - [x] Utils
        - [x] Core
- [x] Remove the stupid helixes var
- [x] MIDI-lensing (for e.g. OT)
    - [x] OT lens definition
    - [x] Input (MIDI from external devices)
    - [x] Output (MIDI to external devices)
- [x] Convert lenses to plisp
- [x] Refactor exec to create child envs

# LATER
- [ ] Implement UI #7
    - [ ] Visual (keyboard-free) expression editor
        - [ ] Note that full expr probably ain't it
        - [ ] Lean into the mercurial quality of lisp
        - [ ] DSLs are useful
        - [ ] Macros may also be useful
    - [ ] Message "learn" (like MIDI learn)
- [ ] Implement message throttling ryanlaws/pigeons#9
    - [ ] Timers/clocks
    - [ ] Execution context (like closure env) - may need IDs, etc.
- [ ] ("Spike") Investigate norns `sky` lib, see if it can replace some code ryanlaws/pigeons#13
- [ ] Add engine support
- [ ] Add debug mode #10
- [ ] Rethink lens modes - they're cheesy ryanlaws/pigeons#11
    - [ ] Conditions + state is more useful
- [ ] Add norns param menu read/write support
    - [ ] This has its own MIDI mappings
